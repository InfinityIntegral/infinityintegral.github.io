#c SGWTouchReceiver
SGWidget for precise touch input
#ic SGEXTN/widgets/instantiable/sgwtouchreceiver.h
#if SGWWidget
#d SGWTouchReceiver is a SGWidget that allows user input in the form of touch events to be interpreted precisely. SGWidget buttons and input fields are interactive, so they can be clicked, but they do not provie information on where exactly the click happened. SGWTouchReceiver provides information about up to 5 touch events, each accurate to the nearest pixel (not counting hardware limitations). SGWTouchReceiver can be used for complex touch interactions or be overlaid on top of a renderer for touch interactions such as the ones used in the SGEXTN builtin colour picker. SGWTouchReceiver itself does not perform rendering, it is always fully transparent, and it is designed to be overlaid on top of a custom renderer. Since SGWTouchReceiver must intercept touch events, it blocks SGWidgets below from receiving user input. However, it being transparent makes it appears to the user that the SGWidget below (typically a custom renderer) is the one accepting the input. The callback function is triggered upon any change in the touch inputs currently being detected, and the callback is responsible for interpreting the touch event data to decide the action that should be done.
#dt <div id="-w"></div>_w Distance
The position and size of all SGWidgets are calculated using a <a class="link" href="#-w">_w</a> distance.$A _w distance is made of 2 coordinates, coordinate 1 and coordinate 0, and it is denoted using _w(c1, c0). This is equal to c1 * parent_size + c0 * size_unit pixels, where parent_size is the size of the parent SGWidget and size_unit is 1/24 of the screen width or screen height, whichever is longer.
#f $SGWTouchReceiver(SGWWidget* parent, void (*function)(SGWTouchReceiver*, const std::array<SGXTouchEvent, 5>&), float x1, float x0, float y1, float y0, float w1, float w0, float h1, float h0)
This constructor for SGWTouchReceiver creates a SGWTouchReceiver and places it onto the screen.$parent: pointer to parent SGWidget$function: callback function attached to the touch receiver called whenever there is any change in the touch data received in the form of a function pointer, the callback function should return void and take as input a pointer to a SGWTouchReceiver which provides information about which touch receiver triggered the callback, and an array of 5 touch events which contain the actual data$x1: 1 coordinate of x coordinate (which is a <a class="link" href="#-w">_w</a> distance) of position$x0: 0 coordinate of x coordinate (which is a <a class="link" href="#-w">_w</a> distance) of position$y1: 1 coordinate of y coordinate (which is a <a class="link" href="#-w">_w</a> distance) of position$y0: 0 coordinate of y coordinate (which is a <a class="link" href="#-w">_w</a> distance) of position$w1: 1 coordinate of width (which is a <a class="link" href="#-w">_w</a> distance)$w0: 0 coordinate of width (which is a <a class="link" href="#-w">_w</a> distance)$h1: 1 coordinate of height (which is a <a class="link" href="#-w">_w</a> distance)$h0: 0 coordinate of height (which is a <a class="link" href="#-w">_w</a> distance)
#p void (*$function)(SGWTouchReceiver*, const std::array<SGXTouchEvent, 5>&)
This is the function pointer storing the callback function associated with this SGWTouchReceiver. The callback function is triggered whenever any change in the touch event information is detected. For example, when a finger starts or stops touching the screen, or when a finger currently in contact with the screen moves, the callback function is run. The callback function should return void and take as input a pointer to a SGWTouchReceiver and an array of 5 <a class="link" href="/classinfo/sgxtouchevent">SGXTouchEvent</a> passed by constant reference. The pointer to SGWTouchReceiver provides information about which touch receiver triggered the function, which can be helpful when there are multiple copies of the same UI element.$The array of touch events provides information about the touch events being received. When less than 5 touch points are present, the unused points display their phase as having ended. When more than 5 touch points are present, the extra ones are lost, but any gesture requiring more than 5 fingers is bad UI anyways. Information about the touch points are provided using pixel as a unit of distance. For more information, see <a class="link" href="/classinfo/sgxtouchevent">SGXTouchEvent</a>. The callback function can store information about the touch event data elsewhere in memory to interpret the touch events, and call other functions to handle various gestures. Note that gestures should use as less fingers as possible, preferably 1, for compatibility with non touchscreen devices and small screens. Gestures using too many fingers can be intercepted by the system, such as 4 finger swipe on iOS.$This property can be read from and written to directly. Remember that SGEXTN, including the SGWidget module, does not follow Object-Oriented Programming concepts of abstraction and encapsulation. The only reason why SGWidget appears to follow these is because properties often need to be updated on the QML side also, and using a getter and a setter removes the need for the developer to deal with QML.
#f [[nodiscard]] float $getWidth() const
This function gets the width of this SGWTouchReceiver in pixels. This can be used in the callback function as it receives touch event information in the form of pixels.
#f [[nodiscard]] float $getHeight() const
This function gets the height of this SGWTouchReceiver in pixels. This can be used in the callback function as it receives touch event information in the form of pixels.
