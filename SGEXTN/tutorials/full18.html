
<!DOCTYPE html>
<html lang="en-SG">
<head>
<meta charset="UTF-8">
<title>Full Tutorial Part 18</title>
<link rel="icon" href="/icon.png" type="image/png">
<meta property="og:image" content="/icon.png">
<meta name="twitter:image" content="/icon.png">
<link rel="apple-touch-icon" href="/icon.png">
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "WebSite",
    "url": "https://infinityintegral.github.io",
    "image": "/icon.png"
}
</script>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
@font-face {
	font-family: "SingScript.sg";
	src: url("/SingScript.sg")format("truetype");
	font-weight: normal;
	font-style: normal;
}

:root {
	--c0: rgb(0, 0, 0);
	--c1: rgb(64, 0, 50);
	--c2: rgb(128, 0, 100);
	--c3: rgb(191, 0, 150);
	--c4: rgb(255, 0, 200);
	--c5: rgb(255, 64, 214);
	--c6: rgb(255, 128, 227);
	--c7: rgb(255, 191, 241);
	--c8: rgb(255, 255, 255);
}

*{
    font-family: "SingScript.sg";
	max-width: 100%;
	word-break: break-word;
	-webkit-text-size-adjust: 100%;
	-ms-text-size-adjust: 100%;
}

.title {
	color: var(--c4);
	font-size: 3.5rem;
	margin: 0;
	font-weight: normal;
}
.title::selection {
	color: var(--c8);
	background-color: var(--c4);
	font-size: 3.5rem;
	margin: 0;
	font-weight: normal;
}

.header {
	color: var(--c4);
	font-size: 2.5rem;
	margin: 0;
	font-weight: normal;
}
.header::selection {
	color: var(--c8);
	background-color: var(--c4);
	font-size: 2.625rem;
	margin: 0;
	font-weight: normal;
}

.description {
	color: var(--c4);
	font-size: 1.75rem;
	margin: 0;
	white-space: pre-wrap;
}
.description::selection {
	color: var(--c8);
	background-color: var(--c4);
	font-size: 1.75rem;
	margin: 0;
	white-space: pre-wrap;
}

.note {
	color: var(--c4);
	font-size: 1.75rem;
	margin: 0.25rem;
	white-space: pre-wrap;
    border: 0.25rem solid var(--c7);
    padding: 0.25rem;
}
.note::selection {
	color: var(--c8);
	background-color: var(--c4);
	font-size: 1.75rem;
	margin: 0.25rem;
	white-space: pre-wrap;
    border: 0.25rem solid var(--c7);
    padding: 0.25rem;
}

.warning {
	color: var(--c4);
	font-size: 1.75rem;
	margin: 0.25rem;
	white-space: pre-wrap;
    border: 0.25rem solid var(--c4);
    padding: 0.25rem;
}
.warning::selection {
	color: var(--c8);
	background-color: var(--c4);
	font-size: 1.75rem;
	margin: 0.25rem;
	white-space: pre-wrap;
    border: 0.25rem solid var(--c4);
    padding: 0.25rem;
}

.link {
	color: var(--c2);
	text-decoration: underline;
}
.link:hover {
	color: var(--c2);
	background-color: var(--c7);
	text-decoration: underline;
}
.link:active {
	color: var(--c2);
	background-color: var(--c6);
	text-decoration: underline;
}
.link::selection {
	color: var(--c8);
	background-color: var(--c4);
	text-decoration: underline;
}

.button {
	color: var(--c8);
	background-color: var(--c4);
	font-size: 1.75rem;
	border: none;
}
.button:hover {
	color: var(--c7);
	background-color: var(--c3);
	font-size: 1.75rem;
	border: none;
}
.button:active {
	color: var(--c6);
	background-color: var(--c2);
	font-size: 1.75rem;
	border: none;
}
.button::selection {
	color: var(--c4);
	background-color: var(--c8);
	font-size: 1.75rem;
	border: none;
}

.input {
	color: var(--c8);
	background-color: var(--c4);
	font-size: 1.75rem;
	border: none;
	outline: none;
	text-align: center;
}
.input:hover {
	color: var(--c7);
	background-color: var(--c3);
	font-size: 1.75rem;
	border: none;
	outline: none;
	text-align: center;
}
.input:focus {
	color: var(--c6);
	background-color: var(--c2);
	font-size: 1.75rem;
	border: none;
	outline: none;
	text-align: center;
}
.input::selection {
	color: var(--c4);
	background-color: var(--c8);
	font-size: 1.75rem;
	border: none;
	outline: none;
	text-align: center;
}

.highlight {
    animation: highlightFlash 2s ease-out;
}

@keyframes highlightFlash {
    0% {background-color: var(--c6);}
    100% {background-color: var(--c8);}
}
</style>
<script>
let m = (new Date()).getMonth() + 1;
if(m >= 7 && m <= 9){
    document.documentElement.style.setProperty("--c0", "rgb(0, 0, 0)");
    document.documentElement.style.setProperty("--c1", "rgb(60, 9, 14)");
    document.documentElement.style.setProperty("--c2", "rgb(119, 19, 27)");
    document.documentElement.style.setProperty("--c3", "rgb(179, 28, 41)");
    document.documentElement.style.setProperty("--c4", "rgb(238, 37, 54)");
    document.documentElement.style.setProperty("--c5", "rgb(242, 92, 104)");
    document.documentElement.style.setProperty("--c6", "rgb(247, 146, 155)");
    document.documentElement.style.setProperty("--c7", "rgb(251, 201, 205)");
    document.documentElement.style.setProperty("--c8", "rgb(255, 255, 255)");
}
function highlightSection(){
    let tag = window.location.hash.substring(1);
    if(tag == ""){return;}
    let element = document.getElementById(tag);
    if(element == null){return;}
    element.classList.add("highlight");
    element.addEventListener("animationend", () => {element.classList.remove("highlight");}, {once: true});
}
window.addEventListener("DOMContentLoaded", highlightSection);
window.addEventListener("hashchange", highlightSection);
</script>
</head>
<body style="margin-left: 1em;">
<p class="description" style="color: rgb(238, 37, 54); text-align: center; font-size: 2.5rem">sincerely <img src="/flag.png" style="vertical-align: middle; height: 2.5rem; image-rendering: auto;"> Singaporean</p>
<div style="width: 100%; height: 0.25rem; background-color: var(--c8);"></div>
<div><button class="button" style="width: 100%;" onclick="location.href='/'">Project 05524F.sg</button></div>
<div style="width: 100%; height: 0.25rem; background-color: var(--c8);"></div>
<div><button class="button" style="width: 100%;" onclick="location.href='../readme/readme'">SGEXTN Documentation</button></div><div style="width: 100%; height: 0.25rem; background-color: var(--c8);"></div><p class="warning">If you have not done so, read this full <a class="link" href="../tutorials/full">tutorial</a> on how to use SGEXTN to build an application.</p><div style="width: 100%; height: 0.75rem; background-color: var(--c8);"></div><h1 class="title">Full Tutorial Part 18</h1>
<div style="width: 100%; height: 1.75rem; background-color: var(--c8);"></div>
<p class="description">&#9;See <a class="link" href="full17">here</a> for the previous part of the tutorial.</p>
<p class="description">&#9;In the previous part, we built the polygon display.</p>
<div style="width: 100%; height: 1.75rem; background-color: var(--c8);"></div>
<h2 class="header" id="">shaders (part 3)</h2>
<p class="description">&#9;Next we will be building the star display. Similar to how we built the polygon display, we will define the shape of the star using actual vertices stored in the vertex buffer object. The coordinate system used by the vertices will be the same as those of the polygon, so we can reuse the same vertex and fragment shaders. We will use a <a class="link" href="../cppclass/sgwblankwidget">SGWBlankWidget</a> for the background.</p>
<p class="description">&#9;At this point, you have already implemented 2 shaders, 1 for the circle and 1 for the polygon. You can try to entirely implement this by yourself. The location of the vertices can be easily determined using trigonometry and geometry from lower secondary mathematics.</p>
<div style="width: 100%; height: 1.75rem; background-color: var(--c8);"></div>
<p class="description">&#9;In case you cannot figure out how to generate the vertex buffer object and element buffer object, the code for SGCLPStarDisplay::initialise is here.</p>
<p class="warning">void SGCLPStarDisplay::initialise(){&#10;    SGLArray&lt;float&gt; vt(2 * (1 + 2 * vertexCount));&#10;    vt.at(0) = 0.0f;&#10;    vt.at(1) = 0.0f;&#10;    float outerRadius = 0.9f;&#10;    float innerRadius = outerRadius * SGLFloatMath::sine(0.1f * SGLFloatConstants::pi()) / SGLFloatMath::sine(0.7f * SGLFloatConstants::pi());&#10;    for(int i=0; i&lt;vertexCount; i++){&#10;        float angle = -0.5f * SGLFloatConstants::pi() + 2.0f * SGLFloatConstants::pi() /static_cast&lt;float&gt;(vertexCount) * (static_cast&lt;float&gt;(i) + 0.5f);&#10;        vt.at(2 + 2 * i) = innerRadius * SGLFloatMath::cosine(angle);&#10;        vt.at(3 + 2 * i) = innerRadius * SGLFloatMath::sine(angle);&#10;    }&#10;    for(int i=0; i&lt;vertexCount; i++){&#10;        float angle = -0.5f * SGLFloatConstants::pi() + 2.0f * SGLFloatConstants::pi() /static_cast&lt;float&gt;(vertexCount) * static_cast&lt;float&gt;(i);&#10;        vt.at(2 + 2 * vertexCount + 2 * i) = outerRadius * SGLFloatMath::cosine(angle);&#10;        vt.at(3 + 2 * vertexCount + 2 * i) = outerRadius * SGLFloatMath::sine(angle);&#10;    }&#10;    vbo = new SGRVertexBufferObject(this, 4 * 2 * (1 + 2 * vertexCount));&#10;    (*renderingProgramme()).updateDataBuffer(vbo, 0, 4 * 2 * (1 + 2 * vertexCount), vt.pointerToData(0));&#10;    SGLArray&lt;int&gt; et(3 * 2 * vertexCount);&#10;    for(int i=0; i&lt;vertexCount; i++){&#10;        et.at(3 * i) = 0;&#10;        et.at(3 * i + 1) = i + 1;&#10;        et.at(3 * i + 2) = i + 2;&#10;    }&#10;    et.at(3 * vertexCount - 1) = 1;&#10;    for(int i=0; i&lt;vertexCount; i++){&#10;        et.at(3 * vertexCount + 3 * i) = i + 1;&#10;        et.at(3 * vertexCount + 3 * i + 1) = i + 2;&#10;        et.at(3 * vertexCount + 3 * i + 2) = vertexCount + i + 2;&#10;    }&#10;    et.at(6 * vertexCount - 2) = 1;&#10;    et.at(6 * vertexCount - 1) = vertexCount + 1;&#10;    ebo = new SGRElementBufferObject(this, 4 * 3 * 2 * vertexCount);&#10;    (*renderingProgramme()).updateDataBuffer(ebo, 0, 4 * 3 * 2 * vertexCount, et.pointerToData(0));&#10;    SGLArray&lt;float&gt; ut(foregroundColour.getRedAsFloat(), foregroundColour.getGreenAsFloat(), foregroundColour.getBlueAsFloat(), foregroundColour.getTransparencyAsFloat());&#10;    (*renderingProgramme()).updateShaderUniforms(1, 0, 16, ut.pointerToData(0));&#10;}</p>
<p class="description">&#9;When we were writing SGCLPPolygonDisplay, we focused on trigulations. Now we will focus on the actual implementation.</p>
<p class="description">&#9;First note that instead of using ‹cmath› to get sine and cosine and ‹numbers› to get the value of pi, we used <a class="link" href="../cppclass/sglfloatmath">SGLFloatMath</a> and <a class="link" href="../cppclass/sglfloatconstants">SGLFloatConstants</a>. These are SGEXTN wrappers for the same Standard Template Library functions. Using these means that you do not need to include ‹cmath› and ‹numbers› to use their functionality, allowing much faster clang-tidy passes.</p>
<p class="description">&#9;Apart from <a class="link" href="../cppclass/sglfloatconstants">SGLFloatConstants</a> and <a class="link" href="../cppclass/sglfloatmath">SGLFloatMath</a>, there is also <a class="link" href="../cppclass/sglfloatlimits">SGLFloatLimits</a>, <a class="link" href="../cppclass/sglintmath">SGLIntMath</a>, <a class="link" href="../cppclass/sglintlimits">SGLIntLimits</a>, <a class="link" href="../cppclass/sgllonglongmath">SGLLongLongMath</a>, and <a class="link" href="../cppclass/sgllonglonglimits">SGLLongLongLimits</a>. These also wrap ‹cmath›, ‹numbers›, and ‹numeric_limits›, speeding up clang-tidy checks.</p>
<div style="width: 100%; height: 1.75rem; background-color: var(--c8);"></div>
<p class="description">&#9;Once you have done testing and debugging, you can run a clang-tidy check and commit to GitHub.</p>
<div style="width: 100%; height: 1.75rem; background-color: var(--c8);"></div>
<p class="description">&#9;See <a class="link" href="full19">here</a> for the next part of the tutorial.</p>
<p class="description">&#9;</p>
<p class="description"></p>

<div style="width: 100%; height: 1.75rem; background-color: var(--c8);"></div>
<div style="width: 100%; height: 0.25rem; background-color: var(--c4);"></div>
<div style="width: 100%; height: 0.25rem; background-color: var(--c8);"></div>
<p class="description">©2025 05524F.sg (Singapore)</p>
<p class="description"><a class="link" href="/contact">contact 05524F / report a bug / make a suggestion</a></p>
<p class="description"><a class="link" href="/values">about 05524F SINGAPORE values</a></p>
<p class="description"><a class="link" href="/projects">list of 05524F projects</a></p>
<div style="width: 100%; height: 0.25rem; background-color: var(--c8);"></div>
<div style="width: 100%; height: 0.25rem; background-color: var(--c4);"></div>
<div style="width: 100%; height: 0.25rem; background-color: var(--c8);"></div>
</body>
</html>
