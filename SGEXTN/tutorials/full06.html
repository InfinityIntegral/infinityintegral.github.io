
<!DOCTYPE html>
<html lang="en-SG">
<head>
<meta charset="UTF-8">
<title>Full Tutorial Part 6</title>
<link rel="icon" href="/icon.png" type="image/png">
<meta property="og:image" content="/icon.png">
<meta name="twitter:image" content="/icon.png">
<link rel="apple-touch-icon" href="/icon.png">
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "WebSite",
    "url": "https://infinityintegral.github.io",
    "image": "/icon.png"
}
</script>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
@font-face {
	font-family: "SingScript.sg";
	src: url("/SingScript.sg")format("truetype");
	font-weight: normal;
	font-style: normal;
}

:root {
	--c0: rgb(0, 0, 0);
	--c1: rgb(64, 0, 50);
	--c2: rgb(128, 0, 100);
	--c3: rgb(191, 0, 150);
	--c4: rgb(255, 0, 200);
	--c5: rgb(255, 64, 214);
	--c6: rgb(255, 128, 227);
	--c7: rgb(255, 191, 241);
	--c8: rgb(255, 255, 255);
}

*{
    font-family: "SingScript.sg";
	max-width: 100%;
	word-break: break-word;
	-webkit-text-size-adjust: 100%;
	-ms-text-size-adjust: 100%;
}

.title {
	color: var(--c4);
	font-size: 3.5rem;
	margin: 0;
	font-weight: normal;
}
.title::selection {
	color: var(--c8);
	background-color: var(--c4);
	font-size: 3.5rem;
	margin: 0;
	font-weight: normal;
}

.header {
	color: var(--c4);
	font-size: 2.5rem;
	margin: 0;
	font-weight: normal;
}
.header::selection {
	color: var(--c8);
	background-color: var(--c4);
	font-size: 2.625rem;
	margin: 0;
	font-weight: normal;
}

.description {
	color: var(--c4);
	font-size: 1.75rem;
	margin: 0;
	white-space: pre-wrap;
}
.description::selection {
	color: var(--c8);
	background-color: var(--c4);
	font-size: 1.75rem;
	margin: 0;
	white-space: pre-wrap;
}

.note {
	color: var(--c4);
	font-size: 1.75rem;
	margin: 0.25rem;
	white-space: pre-wrap;
    border: 0.25rem solid var(--c7);
    padding: 0.25rem;
}
.note::selection {
	color: var(--c8);
	background-color: var(--c4);
	font-size: 1.75rem;
	margin: 0.25rem;
	white-space: pre-wrap;
    border: 0.25rem solid var(--c7);
    padding: 0.25rem;
}

.warning {
	color: var(--c4);
	font-size: 1.75rem;
	margin: 0.25rem;
	white-space: pre-wrap;
    border: 0.25rem solid var(--c4);
    padding: 0.25rem;
}
.warning::selection {
	color: var(--c8);
	background-color: var(--c4);
	font-size: 1.75rem;
	margin: 0.25rem;
	white-space: pre-wrap;
    border: 0.25rem solid var(--c4);
    padding: 0.25rem;
}

.link {
	color: var(--c2);
	text-decoration: underline;
}
.link:hover {
	color: var(--c2);
	background-color: var(--c7);
	text-decoration: underline;
}
.link:active {
	color: var(--c2);
	background-color: var(--c6);
	text-decoration: underline;
}
.link::selection {
	color: var(--c8);
	background-color: var(--c4);
	text-decoration: underline;
}

.button {
	color: var(--c8);
	background-color: var(--c4);
	font-size: 1.75rem;
	border: none;
}
.button:hover {
	color: var(--c7);
	background-color: var(--c3);
	font-size: 1.75rem;
	border: none;
}
.button:active {
	color: var(--c6);
	background-color: var(--c2);
	font-size: 1.75rem;
	border: none;
}
.button::selection {
	color: var(--c4);
	background-color: var(--c8);
	font-size: 1.75rem;
	border: none;
}

.input {
	color: var(--c8);
	background-color: var(--c4);
	font-size: 1.75rem;
	border: none;
	outline: none;
	text-align: center;
}
.input:hover {
	color: var(--c7);
	background-color: var(--c3);
	font-size: 1.75rem;
	border: none;
	outline: none;
	text-align: center;
}
.input:focus {
	color: var(--c6);
	background-color: var(--c2);
	font-size: 1.75rem;
	border: none;
	outline: none;
	text-align: center;
}
.input::selection {
	color: var(--c4);
	background-color: var(--c8);
	font-size: 1.75rem;
	border: none;
	outline: none;
	text-align: center;
}

.highlight {
    animation: highlightFlash 2s ease-out;
}

@keyframes highlightFlash {
    0% {background-color: var(--c6);}
    100% {background-color: var(--c8);}
}
</style>
<script>
let m = (new Date()).getMonth() + 1;
if(m >= 7 && m <= 9){
    document.documentElement.style.setProperty("--c0", "rgb(0, 0, 0)");
    document.documentElement.style.setProperty("--c1", "rgb(60, 9, 14)");
    document.documentElement.style.setProperty("--c2", "rgb(119, 19, 27)");
    document.documentElement.style.setProperty("--c3", "rgb(179, 28, 41)");
    document.documentElement.style.setProperty("--c4", "rgb(238, 37, 54)");
    document.documentElement.style.setProperty("--c5", "rgb(242, 92, 104)");
    document.documentElement.style.setProperty("--c6", "rgb(247, 146, 155)");
    document.documentElement.style.setProperty("--c7", "rgb(251, 201, 205)");
    document.documentElement.style.setProperty("--c8", "rgb(255, 255, 255)");
}
function highlightSection(){
    let tag = window.location.hash.substring(1);
    if(tag == ""){return;}
    let element = document.getElementById(tag);
    if(element == null){return;}
    element.classList.add("highlight");
    element.addEventListener("animationend", () => {element.classList.remove("highlight");}, {once: true});
}
window.addEventListener("DOMContentLoaded", highlightSection);
window.addEventListener("hashchange", highlightSection);
</script>
</head>
<body style="margin-left: 1em;">
<p class="description" style="color: rgb(238, 37, 54); text-align: center; font-size: 2.5rem">sincerely <img src="/flag.png" style="vertical-align: middle; height: 2.5rem; image-rendering: auto;"> Singaporean</p>
<div style="width: 100%; height: 0.25rem; background-color: var(--c8);"></div>
<div><button class="button" style="width: 100%;" onclick="location.href='/'">Project 05524F.sg</button></div>
<div style="width: 100%; height: 0.25rem; background-color: var(--c8);"></div>
<div><button class="button" style="width: 100%;" onclick="location.href='../readme/readme'">SGEXTN Documentation</button></div><div style="width: 100%; height: 0.25rem; background-color: var(--c8);"></div><p class="warning">If you have not done so, read this full <a class="link" href="../tutorials/full">tutorial</a> on how to use SGEXTN to build an application.</p><div style="width: 100%; height: 0.75rem; background-color: var(--c8);"></div><h1 class="title">Full Tutorial Part 6</h1>
<div style="width: 100%; height: 1.75rem; background-color: var(--c8);"></div>
<p class="description">&#9;See <a class="link" href="full05">here</a> for the previous part of the tutorial.</p>
<p class="description">&#9;In the previous part, we built the UI of the options page.</p>
<div style="width: 100%; height: 1.75rem; background-color: var(--c8);"></div>
<h2 class="header" id="">writing options page behaviour (part 1)</h2>
<p class="description">&#9;With the UI ready, we can write behaviour of all the UI elements. Up until now, everything in the code of SGCLPOptionsPage that expects a <a class="link" href="../tutorials/callback">callback function ⁽㈳㈴㈳㈮㈱㈨㈠㈫ ㈧㈤㈱㈤⁾</a> uses nullptr as placeholder.</p>
<p class="description">&#9;We will deal with the presets system later, so using and saving presets can continue to be nothing for now.</p>
<div style="width: 100%; height: 1.75rem; background-color: var(--c8);"></div>
<p class="description">&#9;Firstly we can get choosing background colours to work. The user can opt for "custom" mode where they choose a specific colour to use as background colour. There is also "complementary" mode (to demonstrate SGEXTN's colour processing capabilities) where the background colour is the foreground colour but with some HSL channels inverted.</p>
<p class="description">&#9;To indicate to the user that a mode (custom / complementary) is selected, we can use <a class="link" href="../cppclass/sgwbutton#void_setSelected_bool_">SGWButton::setSelected</a> on the corresponding button.</p>
<p class="description">&#9;For the options page, to hide irrelevant UI components, we resize other UI to cover them. A UI element can have its size in <a class="link" href="../tutorials/wdistance">w-distance ⁽㈳㈴㈳㈮㈱㈨㈠㈫ ㈧㈤㈱㈤⁾</a> changed using <a class="link" href="../cppclass/sgwwidget#void_setX1_float_">SGWWidget::setX1</a>, <a class="link" href="../cppclass/sgwwidget#void_setX0_float_">SGWWidget::setX0</a>, <a class="link" href="../cppclass/sgwwidget#void_setY1_float_">SGWWidget::setY1</a>, <a class="link" href="../cppclass/sgwwidget#void_setY0_float_">SGWWidget::setY0</a>, <a class="link" href="../cppclass/sgwwidget#void_setW1_float_">SGWWidget::setW1</a>, <a class="link" href="../cppclass/sgwwidget#void_setW0_float_">SGWWidget::setW0</a>, <a class="link" href="../cppclass/sgwwidget#void_setH1_float_">SGWWidget::setH1</a>, and <a class="link" href="../cppclass/sgwwidget#void_setH0_float_">SGWWidget::setH0</a>.</p>
<p class="description">&#9;Alternatively, you can simply disable irrelevant UI elements using <a class="link" href="../cppclass/sgwwidget#void_setItemVisibility_bool_">SGWWidget::setItemVisibility</a>.</p>
<div style="width: 100%; height: 1.75rem; background-color: var(--c8);"></div>
<p class="description">&#9;When the "custom" button is pressed, we should make the "custom" button selected, resize it to reveal the colour picker below, make the "complementary" button unselected, and resize it to cover the buttons below. We also need to test if it is already selected. If so, we ignore it.</p>
<p class="description">&#9;The "complementary" button follows a similar algorithm.</p>
<p class="description">&#9;We write these behaviours in <a class="link" href="../tutorials/callback">callback function ⁽㈳㈴㈳㈮㈱㈨㈠㈫ ㈧㈤㈱㈤⁾</a> that return void and take no arguments, so these can be attached to the buttons directly.</p>
<p class="description">&#9;We can declare the functions inside the class SGCLPOptionsPage.</p>
<p class="warning">static void backgroundUseCustom();&#10;static void backgroundUseComplementary();</p>
<p class="description">&#9;and then assign them to run when the buttons are pressed by replacing the lines in SGCLPOptionsPage::initialise that create the buttons. Instead of just creating the buttons, we assign the function to run also.</p>
<p class="warning">SGCLPOptionsPage::backgroundUseCustomButton = new SGWTextButton(bg, "custom", &SGCLPOptionsPage::backgroundUseCustom, 0.0f, 0.5f, 0.0f, 7.5f, 0.5f, -0.5f, 0.0f, 1.0f);&#10;SGCLPOptionsPage::backgroundUseComplementaryButton = new SGWTextButton(bg, "complementary", &SGCLPOptionsPage::backgroundUseComplementary, 0.0f, 0.5f, 0.0f, 8.5f, 1.0f, -1.0f, 0.0f, 1.0f);</p>
<p class="description">&#9;To ensure that the UI page starts at a valid default, we can write a reset function</p>
<p class="warning">static void reset();</p>
<p class="description">&#9;with implementation</p>
<p class="warning">void SGCLPOptionsPage::reset(){&#10;    SGCLPOptionsPage::backgroundUseCustom();&#10;}</p>
<p class="description">&#9;and then use it when creating the UI page.</p>
<p class="warning">void SGCLPOptionsPage::activate(){&#10;    SGWBackground::enable(SGCLPOptionsPage::instance, &SGCLPOptionsPage::initialise, &SGCLPOptionsPage::reset);&#10;}</p>
<p class="description">&#9;After that we actually implement the functions.</p>
<p class="warning">void SGCLPOptionsPage::backgroundUseCustom(){&#10;    if((*SGCLPOptionsPage::backgroundUseCustomButton).getSelected() == true){return;}&#10;    (*SGCLPOptionsPage::backgroundUseCustomButton).setSelected(true);&#10;    (*SGCLPOptionsPage::backgroundUseComplementaryButton).setSelected(false);&#10;    (*SGCLPOptionsPage::backgroundUseCustomButton).setW1(0.5f);&#10;    (*SGCLPOptionsPage::backgroundUseCustomButton).setW0(-0.5f);&#10;    (*SGCLPOptionsPage::backgroundUseComplementaryButton).setW1(1.0f);&#10;    (*SGCLPOptionsPage::backgroundUseComplementaryButton).setW0(-1.0f);&#10;}&#10;&#10;void SGCLPOptionsPage::backgroundUseComplementary(){&#10;    if((*SGCLPOptionsPage::backgroundUseComplementaryButton).getSelected() == true){return;}&#10;    (*SGCLPOptionsPage::backgroundUseComplementaryButton).setSelected(true);&#10;    (*SGCLPOptionsPage::backgroundUseCustomButton).setSelected(false);&#10;    (*SGCLPOptionsPage::backgroundUseComplementaryButton).setW1(0.5f);&#10;    (*SGCLPOptionsPage::backgroundUseComplementaryButton).setW0(-0.5f);&#10;    (*SGCLPOptionsPage::backgroundUseCustomButton).setW1(1.0f);&#10;    (*SGCLPOptionsPage::backgroundUseCustomButton).setW0(-1.0f);&#10;}</p>
<div style="width: 100%; height: 1.75rem; background-color: var(--c8);"></div>
<p class="description">&#9;See <a class="link" href="full07">here</a> for the next part of the tutorial.</p>
<p class="description">&#9;</p>
<p class="description"></p>

<div style="width: 100%; height: 1.75rem; background-color: var(--c8);"></div>
<div style="width: 100%; height: 0.25rem; background-color: var(--c4);"></div>
<div style="width: 100%; height: 0.25rem; background-color: var(--c8);"></div>
<p class="description">©2025 05524F.sg (Singapore)</p>
<p class="description"><a class="link" href="/contact">contact 05524F / report a bug / make a suggestion</a></p>
<p class="description"><a class="link" href="/values">about 05524F SINGAPORE values</a></p>
<p class="description"><a class="link" href="/projects">list of 05524F projects</a></p>
<div style="width: 100%; height: 0.25rem; background-color: var(--c8);"></div>
<div style="width: 100%; height: 0.25rem; background-color: var(--c4);"></div>
<div style="width: 100%; height: 0.25rem; background-color: var(--c8);"></div>
</body>
</html>
